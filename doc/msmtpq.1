.\" -*-nroff-*-
.\"
.\" Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014,
.\" 2015, 2016
.\" Martin Lambers
.\" Copyright (C) 2011
.\" Scott Shumate
.\" Copyright (C) 2016
.\" Daniel Dickinson
.\"
.\" Permission is granted to copy, distribute and/or modify this document
.\" under the terms of the GNU Free Documentation License, Version 1.2 or
.\" any later version published by the Free Software Foundation; with no
.\" Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
.TH MSMTP 1 2016-04
.SH NAME
msmtpq \- An queuing SMTP client
.SH SYNOPSIS
.IP "Sendmail mode (default):"
.B msmtpq
[option...] [\-\-] recipient...
.br
.B msmtpq
[option...] \-t [\-\-] [recipient...]
.IP "Queue Management mode:"
.B msmtpq
--q-mgmt [option ...]
.SH DESCRIPTION
In the default sendmail mode, msmtpq attempts to send mail to an
SMTP server for delivery and queues it for retrying if there is an
error or no connection with which to send mail.
.br
.br
In Queue Management mode you can try sending all or one message, clear one
or all message from queue, and list all or one message in queue.
.SH EXIT STATUS
The standard sendmail exit status codes are used, as defined in sysexits.h.
.SH OPTIONS
Options override configuration file settings.
.br
They are compatible with sendmail where appropriate.
.IP "\fBGeneral options\fP"
As for msmtp.
.IP "\--help"
Print help.
.IP "\fBQueue Managment Options (--q-mgmt)\fP"
.IP "\-h"
Print help.
.IP "\-r"
Attempt to deliver all messages in queue.
.IP "\-R <id>"
Attempt to deliver a single message in queue.
.IP "\-d"
Display queue contents.
.IP "\-p <id>"
Purge individual message from queue.
.IP "\-a"
Purge all messages in queue.
.SH FILES
.IP "SYSCONFDIR/msmtprc"
System configuration file. Use
.B \-\-version
to find out what SYSCONFDIR is on your platform.
.IP "~/.msmtprc"
User configuration file.
.IP "~/.netrc and SYSCONFDIR/netrc"
The netrc file contains login information. Before prompting for a password,
msmtp will search it in ~/.netrc and SYSCONFDIR/netrc.
.SH ENVIRONMENT
.IP "USER, LOGNAME"
These variables override the user's login name when constructing an
envelope-from address. LOGNAME is only used if USER is unset.
.IP "TMPDIR"
Directory to create temporary files in. If this is unset, a system specific
default directory is used.
.br
A temporary file is only created when the
.BR \-t/\-\-read\-recipients
or
.BR \-\-read\-envelope\-from
option is used. The file is then used to buffer the headers of the mail (but not
the body, so the file won't get very large).
.IP "EMAIL, SMTPSERVER"
These environment variables are used only if neither \fB\-\-host\fP nor
\fB\-\-account\fP is used and there is no default account defined in the
configuration files. In this case, the host name is taken from SMTPSERVER, and
the envelope from address is taken from EMAIL, unless overridden by
\fB\-\-from\fP or \fB\-\-read\-envelope\-from\fP. Currently SMTPSERVER must
contain a plain host name (no URL), and EMAIL must contain a plain address (no
names or additional information).
.SH AUTHORS
msmtp was written by Martin Lambers <marlam@marlam.de>.
.br
Other authors are listed in the AUTHORS file in the source distribution.
.SH SEE ALSO
.BR msmtp (1),
.BR sendmail (8),
.BR netrc (5)
or
.BR ftp (1)
